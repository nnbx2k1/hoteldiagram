<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Mermaid Diagram</title>
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true, theme: 'default' });
    </script>
    <style>
      body {
        background: #f5f5f5;
        font-family: sans-serif;
        padding: 40px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .mermaid {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        max-width: 800px;
      }
    </style>
  </head>
  <body>
    <h1>Activity Diagram</h1>
    <div class="mermaid">
      flowchart TD
    Start([🏠 User Visits App]) --> Search{Search Method?}
    
    %% Search Branch
    Search -->|By Name| SearchName[🔍 Search Établissement by Name]
    Search -->|By Location| SearchLoc[📍 Select Location/City]
    
    %% Search Results
    SearchName --> ShowHotel[🏨 Display Specific Établissement]
    SearchLoc --> ShowList[📋 Display List of Établissements]
    ShowList --> SelectHotel[✅ Select Établissement]
    SelectHotel --> ShowHotel
    
    %% Hotel Browsing
    ShowHotel --> ViewDetails[ℹ️ View Hotel Details & Services]
    ViewDetails --> ViewCategories[🛏️ Browse Room Categories]
    ViewCategories --> SelectCategory[✅ Select Room Category]
    SelectCategory --> ViewRoom[🎥 View Room Details & Media]
    
    %% Availability Check
    ViewRoom --> CheckAvail{Check Availability}
    CheckAvail -->|Available| SelectTime[⏰ Select Date & Time]
    CheckAvail -->|Not Available| ViewCategories
    
    %% Reservation Process
    SelectTime --> CreateReserv[📝 Create Temporary Reservation]
    CreateReserv --> Payment[💳 Initiate E-Payment]
    
    %% Payment Branch
    Payment --> PaymentGW[🏦 Process Payment via Gateway]
    PaymentGW --> PaymentResult{Payment Status?}
    
    %% Payment Results
    PaymentResult -->|Success| ConfirmReserv[✅ Confirm Reservation in DB]
    PaymentResult -->|Failed| PaymentFailed[❌ Payment Failed]
    PaymentResult -->|Timeout| PaymentTimeout[⏱️ Payment Timeout]
    
    %% Success Flow
    ConfirmReserv --> SendConfirm[📧 Send Confirmation Email/SMS]
    SendConfirm --> ShowSuccess[🎉 Display Success Page]
    ShowSuccess --> DownloadReceipt[📄 Download Receipt]
    DownloadReceipt --> End([End])
    
    %% Failure Flows
    PaymentFailed --> RetryPayment{Retry Payment?}
    PaymentTimeout --> RetryPayment
    RetryPayment -->|Yes| Payment
    RetryPayment -->|No| CancelReserv[❌ Cancel Temporary Reservation]
    CancelReserv --> End
    
    %% Back Navigation Options
    ViewRoom -.->|Back| ViewCategories
    ViewCategories -.->|Back| ViewDetails
    ViewDetails -.->|Back| ShowHotel
    SelectTime -.->|Back| ViewRoom
    
    %% Styling
    classDef startEnd fill:#4caf50,stroke:#2e7d32,stroke-width:2px,color:#fff
    classDef process fill:#2196f3,stroke:#1565c0,stroke-width:2px,color:#fff
    classDef decision fill:#ff9800,stroke:#ef6c00,stroke-width:2px,color:#fff
    classDef error fill:#f44336,stroke:#c62828,stroke-width:2px,color:#fff
    classDef success fill:#8bc34a,stroke:#558b2f,stroke-width:2px,color:#fff
    
    class Start,End startEnd
    class SearchName,SearchLoc,ShowHotel,ShowList,SelectHotel,ViewDetails,ViewCategories,SelectCategory,ViewRoom,SelectTime,CreateReserv,Payment,PaymentGW,ConfirmReserv,SendConfirm,DownloadReceipt process
    class Search,CheckAvail,PaymentResult,RetryPayment decision
    class PaymentFailed,PaymentTimeout,CancelReserv error
    class ShowSuccess success
    </div>
     <h1>use case Diagram</h1>
    <div class="mermaid">
graph TB
    %% Actors
    Guest[👤 Guest/Client]
    Admin[👨‍💼 Admin]
    PaymentGW[💳 Payment Gateway]
    
    %% System boundary
    subgraph "Hotel Reservation System"
        %% Guest Use Cases
        UC1[Search Établissement]
        UC2[Browse by Location]
        UC3[View Hotel Details]
        UC4[View Room Categories]
        UC5[View Room Details & Media]
        UC6[Select Date & Time]
        UC7[Make Reservation]
        UC8[Process E-Payment]
        UC9[Receive Confirmation]
        UC10[View Booking History]
        UC11[Download Receipt]
        
        %% Admin Use Cases
        UC12[Manage Établissements]
        UC13[Add/Update Rooms]
        UC14[Set Room Categories]
        UC15[Upload Room Media]
        UC16[Configure Time Slots]
        UC17[Manage Reservations]
        UC18[View Payment Reports]
        UC19[Update Room Availability]
        
        %% Payment Gateway Use Cases
        UC20[Validate Payment]
        UC21[Process Transaction]
        UC22[Send Payment Confirmation]
    end
    
    %% Guest Relationships
    Guest --> UC1
    Guest --> UC2
    Guest --> UC3
    Guest --> UC4
    Guest --> UC5
    Guest --> UC6
    Guest --> UC7
    Guest --> UC8
    Guest --> UC9
    Guest --> UC10
    Guest --> UC11
    
    %% Admin Relationships
    Admin --> UC12
    Admin --> UC13
    Admin --> UC14
    Admin --> UC15
    Admin --> UC16
    Admin --> UC17
    Admin --> UC18
    Admin --> UC19
    
    %% Payment Gateway Relationships
    PaymentGW --> UC20
    PaymentGW --> UC21
    PaymentGW --> UC22
    
    %% Include/Extend Relationships
    UC7 -.->|includes| UC6
    UC8 -.->|includes| UC7
    UC9 -.->|includes| UC22
    UC3 -.->|extends| UC1
    UC4 -.->|includes| UC3
    UC5 -.->|includes| UC4
    
    %% Styling
    classDef actor fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef usecase fill:#f3e5f5,stroke:#4a148c,stroke-width:1px
    classDef system fill:#e8f5e8,stroke:#1b5e20,stroke-width:2px
    
    class Guest,Admin,PaymentGW actor
    </div>
  </body>
</html>
